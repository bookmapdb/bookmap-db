<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BookMap â€” ë¶ë§µ ë¦¬ìŠ¤íŠ¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .filter-btn {
      @apply px-4 py-2 border rounded-lg cursor-pointer transition;
    }
    .filter-btn.active {
      @apply bg-blue-600 text-white border-blue-600;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
  <header class="bg-blue-600 text-white shadow">
    <div class="max-w-5xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-xl font-bold">ğŸ“š BookMap</h1>
      <nav class="text-sm">
        <a href="index.html" class="hover:underline">í™ˆ</a> Â·
        <span class="font-semibold">ë¶ë§µ ë¦¬ìŠ¤íŠ¸</span>
      </nav>
    </div>
  </header>

  <!-- ë©”ì¸ ì»¨í…ì¸  -->
  <main class="max-w-6xl mx-auto px-6 py-10">
    <h2 class="text-2xl font-bold mb-6">ë¶ë§µ ë¦¬ìŠ¤íŠ¸</h2>

    <!-- í•„í„° ì˜ì—­ -->
    <div class="mb-8 bg-white p-6 rounded-2xl shadow">
      <h3 class="text-lg font-semibold mb-4">ì¹´í…Œê³ ë¦¬</h3>
      <div id="categoryButtons" class="flex flex-wrap gap-2 mb-6">
        <!-- JSONì—ì„œ ìë™ ìƒì„± -->
      </div>

      <h3 class="text-lg font-semibold mb-4">ë‹¨ê³„</h3>
      <div id="levelButtons" class="flex flex-wrap gap-2">
        <button class="filter-btn" data-level="ì…ë¬¸">ì…ë¬¸</button>
        <button class="filter-btn" data-level="ì´ˆê¸‰">ì´ˆê¸‰</button>
        <button class="filter-btn" data-level="ì¤‘ê¸‰">ì¤‘ê¸‰</button>
        <button class="filter-btn" data-level="ê³ ê¸‰">ê³ ê¸‰</button>
        <button class="filter-btn" data-level="ì „ë¬¸">ì „ë¬¸</button>
      </div>
    </div>

    <!-- ë„ì„œ ë¦¬ìŠ¤íŠ¸ -->
    <div id="bookList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- ì¹´ë“œë“¤ì´ JSë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
    </div>
  </main>

  <script>
    const API_URL = "https://raw.githubusercontent.com/bookmapdb/bookmap-db/main/books.json";
    const bookList = document.getElementById("bookList");
    const categoryButtons = document.getElementById("categoryButtons");
    const levelButtons = document.getElementById("levelButtons");

    let selectedCategories = [];
    let selectedLevels = [];

    // ë„ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
    async function fetchBooks() {
      const res = await fetch(API_URL);
      return res.json();
    }

    // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ìƒì„±
    function createCategoryButtons(books) {
      const categories = new Set();
      books.forEach(book => {
        if (book.category) {
          book.category.split(",").forEach(c => categories.add(c.trim()));
        }
      });

      categoryButtons.innerHTML = "";
      categories.forEach(cat => {
        const btn = document.createElement("button");
        btn.className = "filter-btn";
        btn.textContent = cat;
        btn.dataset.category = cat;
        btn.addEventListener("click", () => {
          btn.classList.toggle("active");
          if (selectedCategories
